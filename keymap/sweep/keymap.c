#include QMK_KEYBOARD_H
#include "version.h"
#include "timer.h"
#include "keymap_french.h"
#include "config.h"


const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

/*
 * ,--------------------------------------------.    ,--------------------------------------------.
 * |    0   |    1   |    2   |    3   |    4   |    |   17   |   18   |   19   |   20   |   21   |
 * |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
 * |    5   |    6   |    7   |    8   |    9   |    |   22   |   23   |   24   |   25   |   26   |
 * |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
 * |   10   |   11   |   12   |   13   |   14   |    |   27   |   28   |   29   |   30   |   31   |
 * `--------------------------------------------'    `--------------------------------------------'
 *
 *                            ,-----------------.    ,-----------------.
 *                            |   15   |   16   |    |   32   |   33   |
 *                            `-----------------'    `-----------------'
 */

// ,--------------------------------------------.    ,--------------------------------------------.
//   _______, _______, _______, _______, _______,      _______, _______, _______, _______, _______,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
//   _______, _______, _______, _______, _______,      _______, _______, _______, _______, _______,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
//   _______, _______, _______, _______, _______,      _______, _______, _______, _______, _______,
// `--------------------------------------------'    `--------------------------------------------'
//
//                            ,-----------------.    ,-----------------.
//                              _______, _______,      _______, _______,
//                            `-----------------'    `-----------------'

[0] = LAYOUT_split_3x5_2(
// ,--------------------------------------------.    ,--------------------------------------------.
     FR_Q   , FR_W   , FR_E   , FR_R   , FR_T   ,      FR_Y   , FR_U   , FR_I   , FR_O   , FR_P   ,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     FR_A   , FR_S   , FR_D   , LT2_F  , LT1_G  ,      FR_H   , FR_J   , FR_K   , FR_L   , LT2_COL,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     FR_Z   , FR_X   , FR_C   , FR_V   , LT3_B  ,      FR_N   , LT1_M  , FR_COMM, FR_DOT , FR_SLSH,
// `--------------------------------------------'    `--------------------------------------------'

//                            ,-----------------.    ,-----------------.
                                KC_SPC , KC_TAB ,      KC_ENT , KC_BSPC
//                            `-----------------'    `-----------------'
),

[1] = LAYOUT_split_3x5_2(
// ,--------------------------------------------.    ,--------------------------------------------.
     FR_EXLM, FR_AT  , FR_LCBR, FR_RCBR, FR_PIPE,      FR_BSLS, FR_QUOT, FR_EQL , _______, FR_ASTR,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     FR_HASH, FR_DLR , FR_LPRN, FR_RPRN, _______,      KC_LEFT, KC_DOWN, KC_UP  , KC_RGHT, FR_PLUS,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     FR_PERC, FR_CIRC, FR_LBRC, FR_RBRC, FR_TILD,      FR_AMPR, FR_MINS, FR_GRV , _______, FR_BSLS,
// `--------------------------------------------'    `--------------------------------------------'

//                            ,-----------------.    ,-----------------.
                                _______, _______,      _______, _______
//                            `-----------------'    `-----------------'
),

[2] = LAYOUT_split_3x5_2(
// ,--------------------------------------------.    ,--------------------------------------------.
     _______, KC_BRIU, KC_PGUP, KC_HOME, _______,      _______, KC_MPRV, KC_MNXT, KC_MPLY, _______,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     KC_CAPS, KC_BRID, KC_PGDN, KC_END , _______,      KC_WH_L, KC_WH_D, KC_WH_U, KC_WH_R, _______,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     QK_BOOT, _______, _______, _______, _______,      _______, KC_VOLD, KC_VOLU, KC_MUTE, _______,
// `--------------------------------------------'    `--------------------------------------------'

//                            ,-----------------.    ,-----------------.
                                KC_BTN1, KC_BTN2,      KC_BTN4, KC_BTN5
//                            `-----------------'    `-----------------'
),

[3] = LAYOUT_split_3x5_2(
// ,--------------------------------------------.    ,--------------------------------------------.
     _______, _______, _______, _______, _______,      _______, FR_7   , FR_8   , FR_9   , _______,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     _______, _______, _______, _______, _______,      _______, FR_4   , FR_5   , FR_6   , _______,
// |--------+--------+--------+--------+--------|    |--------+--------+--------+--------+--------|
     _______, _______, _______, _______, _______,      FR_0   , FR_1   , FR_2   , FR_3   , _______,
// `--------------------------------------------'    `--------------------------------------------'

//                            ,-----------------.    ,-----------------.
                                _______, _______,      _______, _______
//                            `-----------------'    `-----------------'

)
};


/* === PROCESS === */
bool caps_word_press_user(uint16_t keycode) {
    switch (keycode) {
        // Keycodes that continue Caps Word, with shift applied.
        case KC_A ... KC_Z:
        case FR_M:
            add_weak_mods(MOD_BIT(KC_LSFT));
            return true;

        // Keycodes that continue Caps Word, without shifting.
        case FR_0:
        case FR_1:
        case FR_2:
        case FR_3:
        case FR_4:
        case FR_5:
        case FR_6:
        case FR_7:
        case FR_8:
        case FR_9:
        case KC_BSPC:
        case KC_DEL:
        case FR_UNDS:
        case KC_LSFT:
        case LT3_B:
        case FR_MINS:
            return true;

        default:
            return false;  // Deactivate Caps Word.
    }
}
